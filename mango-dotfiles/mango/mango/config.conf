# Mango Compositor Configuration

# Window Effects
blur = 1
blur_layer = 1
blur_optimized = 1
blur_params_num_passes = 3
blur_params_radius = 12
blur_params_noise = 0.02
blur_params_brightness = 0.9
blur_params_contrast = 0.9
blur_params_saturation = 1.1

shadows = 1
layer_shadows = 1
shadow_only_floating = 1
shadows_size = 12
shadows_blur = 20
shadows_position_x = 0
shadows_position_y = 0
shadowscolor = 0x00000080

border_radius = 0
no_radius_when_single = 0
focused_opacity = 1.0
unfocused_opacity = 0.85

# Animation Configuration
animations = 1
layer_animations = 1
animation_type_open = slide
animation_type_close = slide
animation_fade_in = 1
animation_fade_out = 1
tag_animation_direction = 1

zoom_initial_ratio = 0.3
zoom_end_ratio = 1.0
fadein_begin_opacity = 0.5
fadeout_begin_opacity = 0.8

animation_duration_move = 350
animation_duration_open = 400
animation_duration_tag = 300
animation_duration_close = 500

animation_curve_open = 0.42,0,0.58,1
animation_curve_move = 0.42,0,0.58,1
animation_curve_tag = 0.42,0,0.58,1
animation_curve_close = 0.42,0,0.58,1

# Scroller Layout
scroller_structs = 20
scroller_default_proportion = 0.8
scroller_focus_center = 0
scroller_prefer_center = 0
edge_scroller_pointer_focus = 1
scroller_default_proportion_single = 1.0
scroller_proportion_preset = 0.5,0.8,1.0

# Master-Stack Layout
new_is_master = 1
default_mfact = 0.55
default_nmaster = 1
smartgaps = 1

# Overview
hotarea_size = 10
enable_hotarea = 1
ov_tab_mode = 0
overviewgappi = 5
overviewgappo = 30

# Misc
no_border_when_single = 1
axis_bind_apply_timeout = 100
focus_on_activate = 1
inhibit_regardless_of_visibility = 0
sloppyfocus = 1
warpcursor = 1
focus_cross_monitor = 0
focus_cross_tag = 0
enable_floating_snap = 0
snap_distance = 30
cursor_size = 24
drag_tile_to_tile = 1

# Keyboard
repeat_rate = 35
repeat_delay = 200
numlockon = 1
xkb_rules_layout = us

# Trackpad
disable_trackpad = 0
tap_to_click = 1
tap_and_drag = 1
drag_lock = 1
trackpad_natural_scrolling = 0
disable_while_typing = 1
left_handed = 0
middle_button_emulation = 0
swipe_min_threshold = 1

# Mouse
mouse_natural_scrolling = 0

# Appearance
gappih = 4
gappiv = 4
gappoh = 6
gappov = 6
scratchpad_width_ratio = 0.8
scratchpad_height_ratio = 0.9
borderpx = 2

# Kanagawa Wave Palette 
rootcolor          = 0x1f1f28ff
bordercolor        = 0x2a2a37ff
focuscolor         = 0x7e9cd8ff
maxmizescreencolor = 0x98bb6cff
urgentcolor        = 0xe46876ff
scratchpadcolor    = 0x6a9589ff
globalcolor        = 0x957fb8ff
overlaycolor       = 0x7fb4c9ff

# Layout Rules
tagrule = id:1,layout_name:tile
tagrule = id:2,layout_name:tile
tagrule = id:3,layout_name:tile
tagrule = id:4,layout_name:tile
tagrule = id:5,layout_name:tile
tagrule = id:6,layout_name:tile
tagrule = id:7,layout_name:tile
tagrule = id:8,layout_name:tile
tagrule = id:9,layout_name:tile

# Autostart
exec-once=waybar
exec-once=mako
exec-once=swayidle -w timeout 300 'makoctl mode -a away && swaylock -f --config ~/.config/swaylock/config' resume 'makoctl mode -r away' timeout 600 'wlr-randr --output eDP-1 --off' resume 'wlr-randr --output eDP-1 --on' before-sleep 'swaylock -f --config ~/.config/swaylock/config'
exec-once=swaybg -i $HOME/Pictures/Wallpapers/house-water.png -m fill

# Key Bindings
# Reload
bind=SUPER+SHIFT,R,reload_config

# Applications
bind=SUPER,Return,spawn,foot
bind=SUPER,E,spawn,thunar
bind=SUPER,D,spawn,wofi --show drun
bind=SUPER+SHIFT,X,spawn,swaylock -f --config ~/.config/swaylock/config
bind=SUPER,R,spawn,~/.config/mango/scripts/rebar.sh

# Custom Scripts
bind=SUPER+ALT,B,spawn,~/.config/scripts/bookmarks/bookmarks-wofi.sh
bind=SUPER+ALT,W,spawn,~/.config/scripts/wallpapers/wallpapers-wofi.sh
bind=SUPER+ALT,S,spawn,~/.config/scripts/system-menu/sm-wofi.sh
bind=SUPER+ALT,P,spawn,~/.config/scripts/projects/projects-wofi.sh

# Window Control
bind=SUPER,Q,killclient
bind=SUPER+SHIFT,F,togglefullscreen
bind=SUPER,V,togglefloating
bind=SUPER+SHIFT,V,toggleoverlay
bind=SUPER+SHIFT,Q,quit

# Focus Movement
bind=SUPER,Tab,focusstack,next
bind=SUPER,H,focusdir,left
bind=SUPER,J,focusdir,down
bind=SUPER,K,focusdir,up
bind=SUPER,L,focusdir,right

# Move Window (Shift)
bind=SUPER+SHIFT,H,exchange_client,left
bind=SUPER+SHIFT,J,exchange_client,down
bind=SUPER+SHIFT,K,exchange_client,up
bind=SUPER+SHIFT,L,exchange_client,right

# Resize Window (Ctrl)
bind=SUPER+CTRL,H,resizewin,-50,+0
bind=SUPER+CTRL,L,resizewin,+50,+0
bind=SUPER+CTRL,J,resizewin,+0,+50
bind=SUPER+CTRL,K,resizewin,+0,-50

# Workspaces / Tags
bind=SUPER,1,view,1,0
bind=SUPER,2,view,2,0
bind=SUPER,3,view,3,0
bind=SUPER,4,view,4,0
bind=SUPER,5,view,5,0
bind=SUPER,6,view,6,0
bind=SUPER,7,view,7,0
bind=SUPER,8,view,8,0
bind=SUPER,9,view,9,0

# Move window to workspace
bind=SUPER+SHIFT,1,tag,1,0
bind=SUPER+SHIFT,2,tag,2,0
bind=SUPER+SHIFT,3,tag,3,0
bind=SUPER+SHIFT,4,tag,4,0
bind=SUPER+SHIFT,5,tag,5,0
bind=SUPER+SHIFT,6,tag,6,0
bind=SUPER+SHIFT,7,tag,7,0
bind=SUPER+SHIFT,8,tag,8,0
bind=SUPER+SHIFT,9,tag,9,0

# Screenshots
bind=SUPER,s,spawn,/home/zen/.config/mango/scripts/screenshot.sh
bind=CTRL,s,spawn,/home/zen/.config/mango/scripts/screenshot-full.sh

# Volume / Brightness
bind=NONE,XF86AudioRaiseVolume,spawn,pamixer --increase 5
bind=NONE,XF86AudioLowerVolume,spawn,pamixer --decrease 5
bind=NONE,XF86AudioMute,spawn,pamixer --toggle-mute
bind=NONE,XF86AudioMicMute,spawn,pamixer --default-source --toggle-mute
bind=NONE,XF86MonBrightnessUp,spawn,brightnessctl set +5%
bind=NONE,XF86MonBrightnessDown,spawn,brightnessctl set 5%-

# Toggle overview / scratchpad / fullscreen / maxmizescreen
bind=ALT,Tab,toggleoverview
bind=ALT,backslash,togglefloating
bind=ALT,A,togglemaxmizescreen
bind=ALT+SHIFT,F,togglefakefullscreen
bind=SUPER,I,minimized
bind=SUPER,O,toggleoverlay
bind=SUPER+SHIFT,I,restore_minimized
bind=ALT,Z,toggle_scratchpad

# Scroller layout
bind=ALT,E,set_proportion,1.0
bind=ALT,X,switch_proportion_preset

# Switch layout
bind=SUPER,N,switch_layout

# Monitor switch
bind=ALT+SHIFT,Left,focusmon,left
bind=ALT+SHIFT,Right,focusmon,right
bind=SUPER+ALT,Left,tagmon,left
bind=SUPER+ALT,Right,tagmon,right

# Gaps
bind=ALT+SHIFT,X,incgaps,1
bind=ALT+SHIFT,Z,incgaps,-1
bind=ALT+SHIFT,R,togglegaps

# Axis bindings
axisbind=SUPER,UP,viewtoleft_have_client
axisbind=SUPER,DOWN,viewtoright_have_client

# Mouse Bindings
mousebind=SUPER,btn_left,moveresize,curmove
mousebind=SUPER,btn_right,moveresize,curresize
mousebind=NONE,btn_middle,togglefullscreen,0

# Layer rules (example for rofi)
layerrule=animation_type_open:zoom,layer_name:rofi
layerrule=animation
